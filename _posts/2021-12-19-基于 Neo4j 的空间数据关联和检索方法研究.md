---
layout: post
author: shopkeeper
categories: thesis
---

本篇博客记录我在学习徐浩洋的硕士毕业论文《基于Neo4j的空间数据库关联和检索方法研究》的笔记。我的本科毕业设计将参照这一篇论文完成。

## 一、技术路线

1. 空间编码：Plus code 编码

2. 全文索引：使用统计分词法+倒排索引（Lucene开发包）

3. Neo4j：空间数据存储

## 二、空间数据关联模型构建

1. 整体模型：以空间编码为关联节点，用以关联地理实体，多源异构的数据作为属性对地理实体进行关联

2. 各空间编码节点之间的关联：通过Plus code 编码获取周围的网格

3. 各实体节点之间的关联：实体节点采用POI，节点间采用基于文本信息进行实体关联（采用关系中常见的语义关系定义实体类别，取相应的语义关系词作为两个实体之间关系的描述）

4. 空间编码节点与实体节点的关联：实体节点的经纬度转换为Plus code编码并与空间编码节点进行比较，如果包含就存在关系。

5. 实体节点与属性节点的关联：对于文本、图片和视频的内容，本文预先将文本、图片和视频的资源路径 url 统一存储到json 文件；对于街景和三维数据，本文选用百度地图进行二次开发

## 三、空间数据的关联检索

1. 精确关键词
智能提示（支持前缀匹配、支持汉字和拼音匹配、基于用户的历史关键字搜索行为，按照关键字热度排序）
模糊检索

2. 基于空间范围的检索
查询区域对应层级确定: 采用 plus code 空间编码，对其层级范围进行重新的映照取用
使用Neo4j Spatial库进行限定区域检索功能

3. 全文检索
使用Lucene 工具包创建索引，使用MMSEG 中文分词算法进行分词，查询时根据TF*IDF 框架对返回结果进行相似度排序并选择最高的几项

## 四、基于 Neo4j 的空间数据检索系统设计与实现

1. 系统总体设计 nodejs+vuejs+neo4j

2. 系统模块
    - 数据组织模块  
    空间编码节点以 plus code 对经纬度编码取得  
    地理实体节点主要是以 POI 数据为主，通过爬取百度的 POI 信息取得  
    属性节点是不同源的空间数据，通过空间数据描述地理实体对象，与地理实体节点建立关系（如何取得？）

    - 数据检索模块  
    精确关键词模块、基于空间范围的检索模块、全文检索模块三部分

    - 数据可视化模块  
    vue.js+百度地图二次开发

## 五、组会讨论建议

1. 使用北斗网格编码

2. 针对服务场景的关联场景进行优化（乡村文旅），并做好可视化

3. 数据量太少，需要增加
